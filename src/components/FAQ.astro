---
import { faqs } from "../data/content";
---

<section class="section-padding relative overflow-hidden" id="faq">
    <!-- No dark bg -->

    <div class="relative z-10 container-narrow">
        <div class="max-w-3xl mx-auto">
            <div class="text-center mb-16">
                <h2
                    class="text-3xl sm:text-4xl lg:text-5xl font-bold font-heading text-brand-900 mb-4 animate-fade-in-up"
                >
                    {faqs.title}
                </h2>
                <hr class="section-divider" />
            </div>

            <div class="space-y-4" x-data="{ openIndex: null }">
                {
                    faqs.items.map((faq, i) => (
                        <div
                            class="glass-card overflow-hidden animate-fade-in-up"
                            style={`animation-delay: ${(i + 1) * 80}ms`}
                        >
                            <button
                                class="w-full text-left px-6 py-5 flex items-center justify-between gap-4 hover:bg-black/[0.02] transition-colors cursor-pointer"
                                @click={`openIndex = openIndex === ${i} ? null : ${i}`}
                            >
                                <span class="text-brand-800 font-bold text-base sm:text-lg pr-4">
                                    {faq.question}
                                </span>
                                <span
                                    class="text-2xl shrink-0 transition-transform duration-300"
                                    style="color: #f35d09;"
                                    :class={`openIndex === ${i} ? 'rotate-45' : ''`}
                                >
                                    +
                                </span>
                            </button>
                            <div
                                class="grid transition-all duration-300 ease-in-out"
                                :class={`openIndex === ${i} ? 'grid-rows-[1fr] opacity-100' : 'grid-rows-[0fr] opacity-0'`}
                            >
                                <div class="overflow-hidden">
                                    <div class="px-6 pb-5">
                                        <div class="w-full h-px mb-4" style="background: linear-gradient(to right, rgba(243, 93, 9, 0.2), rgba(243, 93, 9, 0.1), transparent);" />
                                        <p class="text-brand-600 leading-relaxed">
                                            {faq.answer}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ))
                }
            </div>
        </div>
    </div>
</section>

<style>
    [x-cloak] {
        display: none !important;
    }
</style>
