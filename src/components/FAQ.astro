---
import { faqs } from "../data/content";
---

<section class="section-padding relative overflow-hidden" id="faq">
    <div class="absolute inset-0 bg-gradient-to-b from-brand-900 to-brand-950">
    </div>

    <div class="relative z-10 container-narrow">
        <div class="max-w-3xl mx-auto">
            <div class="text-center mb-16">
                <h2
                    class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4 animate-fade-in-up"
                >
                    {faqs.title}
                </h2>
                <hr class="section-divider" />
            </div>

            <div class="space-y-4" x-data="{ openIndex: null }">
                {
                    faqs.items.map((faq, i) => (
                        <div
                            class="glass-card overflow-hidden animate-fade-in-up"
                            style={`animation-delay: ${(i + 1) * 80}ms`}
                        >
                            <button
                                class="w-full text-left px-6 py-5 flex items-center justify-between gap-4 hover:bg-white/[0.02] transition-colors cursor-pointer"
                                x-on:click={`openIndex = openIndex === ${i} ? null : ${i}`}
                            >
                                <span class="text-white font-semibold text-base sm:text-lg pr-4">
                                    {faq.question}
                                </span>
                                <span
                                    class="text-gold-400 text-2xl shrink-0 transition-transform duration-300"
                                    x-bind:class={`openIndex === ${i} ? 'rotate-45' : ''`}
                                >
                                    +
                                </span>
                            </button>
                            <div
                                x-show={`openIndex === ${i}`}
                                x-transition:enter="transition ease-out duration-200"
                                x-transition:enter-start="opacity-0 -translate-y-2"
                                x-transition:enter-end="opacity-100 translate-y-0"
                                x-transition:leave="transition ease-in duration-150"
                                x-transition:leave-start="opacity-100"
                                x-transition:leave-end="opacity-0"
                                class="px-6 pb-5"
                                x-cloak
                            >
                                <div class="w-full h-px bg-gradient-to-r from-gold-400/20 via-gold-400/10 to-transparent mb-4" />
                                <p class="text-brand-500 leading-relaxed">
                                    {faq.answer}
                                </p>
                            </div>
                        </div>
                    ))
                }
            </div>
        </div>
    </div>
</section>

<style>
    [x-cloak] {
        display: none !important;
    }
</style>
